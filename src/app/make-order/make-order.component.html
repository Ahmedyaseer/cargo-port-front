<section class="content">
  <div class="content-block">
    <!-- Breadcrumb -->
    <div class="block-header">
      <app-breadcrumb
        [title]="breadscrums[0].title"
        [items]="breadscrums[0].items"
        [active_item]="breadscrums[0].active">
      </app-breadcrumb>
    </div>

    <!-- Form Card -->
    <div class="row clearfix">
      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <div class="card">
          <div class="header">
            <h2>Make Order</h2>
          </div>
          <div class="body">
            <form class="register-form m-4" [formGroup]="register" (ngSubmit)="passParameter()">
              <!-- PRODUCT NAME -->
              <div class="row">
                <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
                  <mat-form-field class="example-full-width" appearance="outline">
                    <mat-label>Product Name</mat-label>
                    <mat-select formControlName="productName" required>
                      @for (product of products; track $index) {

                        <mat-option  [value]="product.id">{{ product.name }}</mat-option>
                      }
                    </mat-select>
                    @if (register.get('productName')?.hasError('required')) {

                      <mat-error>
                        Product Name is required
                      </mat-error>
                    }
                  </mat-form-field>
                </div>

                <!-- MATERIAL -->
                <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
                  <mat-form-field class="example-full-width" appearance="outline">
                    <mat-label>Material Name</mat-label>
                    <mat-select formControlName="material" required>
                      @for (matrial of matrials; track $index) {

                        <mat-option  [value]="matrial.id">{{ matrial.name }}</mat-option>
                      }
                    </mat-select>
                    @if (register.get('material')?.hasError('required')) {
                      <mat-error>
                        Material Name is required
                      </mat-error>
                    }
                   
                  </mat-form-field>
                </div>
              </div>

              <!-- QUANTITY & UNIT -->
              <div class="row">
                <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
                  <mat-form-field class="example-full-width" appearance="outline">
                    <mat-label>Quantity</mat-label>
                    <input matInput type="number" formControlName="quantity" required>
                    @if (register.get('quantity')?.hasError('required')) {
                      <mat-error>
                        Quantity is required
                      </mat-error>
                    }
                    
                  </mat-form-field>
                </div>

                <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
                  <mat-form-field class="example-full-width" appearance="outline">
                    <mat-label>Unit</mat-label>
                    <input matInput formControlName="unit" required>
                    @if (register.get('unit')?.hasError('required')) {
                      <mat-error>
                        Unit is required
                      </mat-error>
                    }
                    
                  </mat-form-field>
                </div>
              </div>

              <!-- PRICE & DATE -->
              <div class="row">
                <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
                  <mat-form-field class="example-full-width" appearance="outline">
                    <mat-label>Price</mat-label>
                    <input matInput type="number" formControlName="price" required>
                    @if (register.get('price')?.hasError('required')) {
                      <mat-error>
                        Price is required
                      </mat-error>
                    }
                 
                  </mat-form-field>
                </div>

                <!-- ORDER DATE  -->
                <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
                  <mat-form-field class="example-full-width" appearance="outline">
                    <mat-label>Order Date</mat-label>
                    <input matInput [matDatepicker]="datepicker" formControlName="date" required>
                    <mat-datepicker-toggle matSuffix [for]="datepicker"></mat-datepicker-toggle>
                    <mat-datepicker #datepicker></mat-datepicker>
                    @if (register.get('date')?.hasError('required')) {
                      <mat-error>
                        Order Date is required
                      </mat-error>
                    }
                  
                  </mat-form-field>
                </div>


                     <!-- ORDER DATE  -->
                     <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2">
                      <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Order Date</mat-label>
                        <input matInput [matDatepicker]="datepicker" formControlName="date" required>
                        <mat-datepicker-toggle matSuffix [for]="datepicker"></mat-datepicker-toggle>
                        <mat-datepicker #datepicker></mat-datepicker>
                        @if (register.get('date')?.hasError('required')) {
                          <mat-error>
                            Order Date is required
                          </mat-error>
                        }
                      
                      </mat-form-field>
                    </div>
              </div>

              <!-- BUTTONS -->
              <div class="row">
                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2">
                  <button mat-raised-button color="primary" type="submit" [disabled]="!register.valid">Submit</button>
                  <button mat-raised-button color="warn" type="button">Cancel</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="content">
  <div class="content-block">
    <!-- Breadcrumb -->
    <div class="block-header">
      <app-breadcrumb
        [title]="breadscrums[0].title"
        [items]="breadscrums[0].items"
        [active_item]="breadscrums[0].active">
      </app-breadcrumb>
    </div>

    <!-- Form Card -->
    <div class="row clearfix">
      <div class="col-lg-12">
        <div class="card">
          <div class="header">
            <h2>Make Order</h2>
          </div>
          <div class="body">
            <form [formGroup]="register" (ngSubmit)="passParameter()">
              <!-- Product Name -->
              <div class="row">
                <div class="col-xl-6">
                  <mat-form-field appearance="outline" class="example-full-width">
                    <mat-label>Product Name</mat-label>
                    <mat-select formControlName="productName">
                      @for (product of products; track $index) {
                        <mat-option [value]="product.id">{{ product.name }}</mat-option>
                      }
                    </mat-select>
                    @if (register.get('productName')?.hasError('required')) {
                      <mat-error>Product Name is required</mat-error>
                    }
                  </mat-form-field>
                </div>

                <!-- Material -->
                <div class="col-xl-6">
                  <mat-form-field appearance="outline" class="example-full-width">
                    <mat-label>Material</mat-label>
                    <mat-select formControlName="material">
                      @for (material of materials; track $index) {
                        <mat-option [value]="material.id">{{ material.name }}</mat-option>
                      }
                    </mat-select>
                    @if (register.get('material')?.hasError('required')) {
                      <mat-error>Material is required</mat-error>
                    }
                  </mat-form-field>
                </div>
              </div>

              <!-- Quantity and Unit -->
              <div class="row">
                <div class="col-xl-6">
                  <mat-form-field appearance="outline" class="example-full-width">
                    <mat-label>Quantity</mat-label>
                    <input matInput type="number" formControlName="quantity" />
                    @if (register.get('quantity')?.hasError('required')) {
                      <mat-error>Quantity is required</mat-error>
                    }
                  </mat-form-field>
                </div>
                <div class="col-xl-6">
                  <mat-form-field appearance="outline" class="example-full-width">
                    <mat-label>Unit</mat-label>
                    <mat-select formControlName="unit">
                      @for (unit of units; track $index) {
                        <mat-option [value]="unit.id">{{ unit.name }}</mat-option>
                      }
                    </mat-select>
                    @if (register.get('unit')?.hasError('required')) {
                      <mat-error>Unit is required</mat-error>
                    }
                  </mat-form-field>
                </div>
              </div>

              <!-- Price and Dates -->
              <div class="row">
                <div class="col-xl-6">
                  <mat-form-field appearance="outline" class="example-full-width">
                    <mat-label>Price</mat-label>
                    <input matInput type="number" formControlName="price" />
                    @if (register.get('price')?.hasError('required')) {
                      <mat-error>Price is required</mat-error>
                    }
                  </mat-form-field>
                </div>

                
                <div class="col-xl-6">
                  <mat-form-field appearance="outline" class="example-full-width">
                    <mat-label>Order Date</mat-label>
                    <input matInput [matDatepicker]="orderDatePicker" formControlName="odate" />
                    <mat-datepicker-toggle matSuffix [for]="orderDatePicker"></mat-datepicker-toggle>
                    <mat-datepicker #orderDatePicker></mat-datepicker>
                    @if (register.get('odate')?.hasError('required')) {
                      <mat-error>Order Date is required</mat-error>
                    }
                  </mat-form-field>
                </div>

                <div class="col-xl-6">
                  <mat-form-field appearance="outline" class="example-full-width">
                    <mat-label>Manfacturing Date</mat-label>
                    <input matInput [matDatepicker]="mainfactorDatePicker" formControlName="mdate" />
                    <mat-datepicker-toggle matSuffix [for]="mainfactorDatePicker"></mat-datepicker-toggle>
                    <mat-datepicker #mainfactorDatePicker></mat-datepicker>
                    @if (register.get('odate')?.hasError('required')) {
                      <mat-error>Order Date is required</mat-error>
                    }
                  </mat-form-field>
                </div>
              </div>

              <!-- Buttons -->
              <div class="row">
                <div class="col-12">
                  <button mat-raised-button color="primary" type="submit" [disabled]="!register.valid">
                    Submit
                  </button>
                  <button mat-raised-button color="warn" type="button" (click)="register.reset()">
                    Cancel
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
